!function(){"use strict";let e=!1;function t(){return"undefined"!=typeof $&&"undefined"!=typeof jQuery&&(e=!0,!0)}void 0===window.importMeta&&(window.importMeta={url:window.location.href,resolve:function(e){try{return new URL(e,window.location.href).href}catch(t){return e}},env:{MODE:"localhost"===window.location.hostname?"development":"production",DEV:"localhost"===window.location.hostname,PROD:"localhost"!==window.location.hostname}});const n=document.createElement;if(document.createElement=function(e){const t=n.call(this,e);if("script"===e.toLowerCase()){const e=Object.getOwnPropertyDescriptor(HTMLScriptElement.prototype,"src").set;Object.defineProperty(t,"src",{set:function(t){t&&"string"==typeof t&&t.includes(".js?ver=")&&/[a-zA-Z0-9]{7,}/.test(t)&&(this.type="module"),e.call(this,t)},get:function(){return this.getAttribute("src")}});const n=Object.getOwnPropertyDescriptor(Element.prototype,"innerHTML").set;Object.defineProperty(t,"innerHTML",{set:function(e){"string"==typeof e&&e.includes("import.meta")&&(e=e.replace(/import\.meta/g,"window.importMeta"),this.type="module"),n.call(this,e)},get:function(){return n.call(this)}});const o=t.setAttribute;t.setAttribute=function(e,n){return"src"===e&&n&&"string"==typeof n&&(t.onerror=function(){console.warn("ProElements: Failed to load script:",n)}),o.call(this,e,n)}}return t},"undefined"!=typeof globalThis&&void 0===globalThis.import)try{globalThis.import={meta:window.importMeta}}catch(e){console.warn("ProElements: Could not set global import.meta, using fallback")}if(void 0===window.import)try{window.import={meta:window.importMeta}}catch(e){console.warn("ProElements: Could not set window.import")}const o=window.eval;window.eval=function(e){return"string"==typeof e&&e.includes("import.meta")&&(e=e.replace(/import\.meta/g,"window.importMeta")),o.call(this,e)};const r=window.postMessage;if(window.postMessage=function(e,t,n){try{return e&&"object"==typeof e&&(e=JSON.parse(JSON.stringify(e,function(e,t){return t instanceof URL?t.href:t instanceof File||t instanceof Blob?"[Object "+t.constructor.name+"]":t}))),r.call(this,e,t,n)}catch(e){console.warn("ProElements: Fixed DataCloneError in postMessage:",e);try{return r.call(this,{error:"DataCloneError"},t,n)}catch(e){console.error("ProElements: Failed to send message:",e)}}},"undefined"!=typeof chrome&&chrome.runtime&&chrome.runtime.onMessage)try{const e=chrome.runtime.onMessage.addListener;chrome.runtime.onMessage.addListener=function(t){return e.call(this,function(e,n,o){try{const r=t(e,n,o);return r instanceof Promise?(r.catch(e=>{console.warn("ProElements: Caught promise error in onMessage listener:",e)}),!0):r}catch(e){return console.warn("ProElements: Caught error in onMessage listener:",e),!1}})}}catch(e){console.warn("ProElements: Could not override chrome extension messaging")}if("undefined"!=typeof Worker){const e=Worker;window.Worker=function(t,n){const o=new e(t,n),r=o.postMessage;return o.postMessage=function(e,t){try{return e&&"object"==typeof e&&(e=JSON.parse(JSON.stringify(e,function(e,t){return t instanceof URL?t.href:t instanceof File||t instanceof Blob?"[Object "+t.constructor.name+"]":t}))),r.call(this,e,t)}catch(e){console.warn("ProElements: Fixed DataCloneError in Worker postMessage:",e)}},o}}function i(){!function(){if("undefined"!=typeof elementorFrontend&&elementorFrontend.elements&&elementorFrontend.elements.$body)try{const e=elementorFrontend.elements.$body.find;elementorFrontend.elements.$body.find=function(n){try{if(!t())return console.warn("ProElements: jQuery not available for element find operation"),[];const o=e.call(this,n);if(0===o.length&&n.includes(".elementor-")){console.warn("ProElements: Element not found, attempting to create:",n);const e=n.match(/\.elementor-(\d+)/);if(e&&e[1]){const t=e[1];let o=document.querySelector(n);return o||(o=document.createElement("div"),o.className=`elementor elementor-${t}`,o.dataset.elementorType="wp-page",o.dataset.elementorId=t,document.body.appendChild(o),console.log(`ProElements: Created missing container for document ${t}`)),$(o)}}return o}catch(e){return console.error("ProElements: Error in element find:",e),"undefined"!=typeof $?$([]):"undefined"!=typeof jQuery?jQuery([]):[]}}}catch(e){console.warn("ProElements: Could not override elementorFrontend find method:",e)}}(),function(){const e=document.createElement("style");e.textContent="\n            .elementor-element:not(.elementor-loaded) {\n                visibility: hidden;\n            }\n            .elementor-element.elementor-loaded {\n                visibility: visible;\n            }\n        ",document.head.appendChild(e)}(),console.log("ProElements: Compatibility fixes applied")}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",i):i();let l=!1;function s(){if(l)return!0;if("undefined"!=typeof elementorFrontend&&elementorFrontend.hooks&&"function"==typeof elementorFrontend.hooks.addAction)try{return elementorFrontend.hooks.addAction("frontend/element_ready/global",i),console.log("ProElements: Successfully added Elementor hooks"),l=!0,!0}catch(e){return console.warn("ProElements: Failed to add Elementor hooks:",e),!1}return!1}function c(){i(),s()}function a(){const e=window.getComputedStyle;window.getComputedStyle=function(t,n){return t&&t.parentElement?e.call(this,t,n):(console.warn("ProElements: Protected against checklist parentElement error"),{getPropertyValue:()=>"",length:0})}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){a(),c()}):(a(),c()),"undefined"!=typeof jQuery&&jQuery(document).on("elementor/frontend/init",function(){console.log("ProElements: Elementor frontend initialized"),s()}),"undefined"!=typeof __webpack_require__&&void 0===__webpack_require__.r&&(__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})})}();